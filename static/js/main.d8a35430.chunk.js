(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},33:function(e,t,a){e.exports=a(72)},38:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(28),s=a.n(r),i=a(7),c=(a(38),a(9)),u=a(10),o=a(12),m=a(11),d=a(13),v=a(8),f=a(1),p=a(29),h=a.n(p).a.create({baseURL:"https://swapi.co/api/",method:"get"});h.getPeople=function(e){return h.get("people/".concat(e))},h.getFilm=function(e){return h.get("film/".concat(e))};var g=h,E={ASC:1,DESC:-1,NONE:0},P={name:"alphabetical",rotation_period:"numeric",orbital_period:"numeric",diameter:"numeric",climate:"alphabetical",gravity:"alphabetical",terrain:"",surface_water:"numeric",population:"numeric"},k=Object.keys(P),N=["created","edited","name","url","films","residents"],b=a(32),y=(a(58),function(e){var t=e.planets?Object(b.a)(e.planets).sort(function(t,a){return e.sort.key?"unknown"===t[e.sort.key]?-1*e.sort.dir:"unknown"===a[e.sort.key]?1*e.sort.dir:"numeric"===P[e.sort.key]?(t[e.sort.key]-a[e.sort.key])*e.sort.dir:t[e.sort.key].localeCompare(a[e.sort.key])*e.sort.dir:0}).map(function(t,a){return l.a.createElement(l.a.Fragment,{key:"cell-".concat(t+a)},k.map(function(e){return l.a.createElement("div",{className:"Planets-grid-cell",key:"cell-".concat(e)},t[e])}),l.a.createElement("div",{className:"Planets-grid-cell Planets-grid-more",onClick:function(){return e.clicked(a)}}))}):null;return l.a.createElement(l.a.Fragment,null,t)}),w=function(e){var t=k.map(function(t){var a=["Planets-grid-header-cell",t];return t===e.sort.key&&(a.push("selected"),a.push(e.sort.dir?e.sort.dir===E.ASC?"asc":"desc":"")),l.a.createElement("div",{className:a.join(" "),key:"head-".concat(t),onClick:function(){return function(t){var a=Object(f.a)({},e.sort);if(!a.key||a.key===t)switch(a.dir){case E.ASC:a.dir=E.DESC;break;case E.DESC:a.dir=E.NONE;break;case E.NONE:a.dir=E.ASC;break;default:a.dir=E.NONE}a.key=t,e.onSort(a)}("".concat(t))}},l.a.createElement("span",null,t.split("_").join(" ")),l.a.createElement("div",{className:"arrow"}))});return l.a.createElement(l.a.Fragment,null,t,l.a.createElement("div",null))},O=(a(59),function(){return l.a.createElement("div",{className:"Loader"})}),j=function(e){var t=e.planetDetail.key.split("_").join(" "),a=e.planetDetail.value;return N.indexOf(e.planetDetail.key)>-1?null:("movies"===e.planetDetail.key||"citizens"===e.planetDetail.key?(t="movies"===e.planetDetail.key?"films":"residents",a=e.planetDetail.value?e.planetDetail.value.length?e.planetDetail.value.map(function(e,t){return l.a.createElement("li",{key:t},e)}):"None":l.a.createElement(O,null)):"surface_water"===e.planetDetail.key&&(a=l.a.createElement("div",{className:"Planet-detail-water-wrapper"},l.a.createElement("div",{className:"Planet-detail-lightsaber"}),l.a.createElement("div",{className:"Planet-detail-water-border"},l.a.createElement("span",{className:"Planet-detail-water-value"},"unknown"===a.toLowerCase()?a:"".concat(a,"%")),l.a.createElement("div",{className:"Planet-detail-bar",style:{width:"".concat(a,"%")}})))),l.a.createElement("div",{className:"Planet-details-item"},l.a.createElement("div",{className:"Planet-details-label"},t),l.a.createElement("div",{className:"Planet-details-detail"},a)))},x=(a(60),function(e){return l.a.createElement("div",{className:"scene"},l.a.createElement("div",{className:"wrap"},l.a.createElement("div",{className:"wall wall-right"}),l.a.createElement("div",{className:"wall wall-left"}),l.a.createElement("div",{className:"wall wall-top"}),l.a.createElement("div",{className:"wall wall-bottom"}),l.a.createElement("div",{className:"wall wall-back"})),l.a.createElement("div",{className:"wrap"},l.a.createElement("div",{className:"wall wall-right"}),l.a.createElement("div",{className:"wall wall-left"}),l.a.createElement("div",{className:"wall wall-top"}),l.a.createElement("div",{className:"wall wall-bottom"}),l.a.createElement("div",{className:"wall wall-back"})))}),S=(a(61),function(e){var t=e.planet?e.planet.name:"",a=e.planet?l.a.createElement(l.a.Fragment,null,Object.keys(e.planet).map(function(t,a){return l.a.createElement(j,{key:"det-".concat(t+a),planetDetail:{value:e.planet[t],key:t}})})):l.a.createElement(O,null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Planet-details"},l.a.createElement(x,null),l.a.createElement("div",{className:"Planet-details-grid"},l.a.createElement("div",{className:"Planet-details-header"},l.a.createElement("div",{className:"Planet-details-back",onClick:function(){return e.clicked(null)}}),l.a.createElement("div",{className:"Planet-details-name"},t)),a)))}),D=(a(26),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={currentPage:null,nextPage:null,prevPage:null,details:!1,detailed:null,sort:{key:!1,dir:E.NONE}},a.myRef=l.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;g("planets/").then(function(t){e.setState(Object(f.a)({},e.state,{currentPage:t.data})),t.data.next&&e.fetchNext(t.data.next),t.data.previous&&e.fetchPrevious(t.data.previous)})}},{key:"fetchNext",value:function(e){var t=this;g(e).then(function(e){return t.setState(Object(f.a)({},t.state,{nextPage:e.data}))})}},{key:"fetchPrevious",value:function(e){var t=this;if(!e)return-1;g(e).then(function(e){return t.setState(Object(f.a)({},t.state,{prevPage:e.data}))})}},{key:"loadNext",value:function(){var e=this,t=Object(f.a)({},this.state);this.setState(Object(f.a)({},t,{prevPage:t.currentPage,currentPage:t.nextPage,nextPage:null}),function(){return e.fetchNext(e.state.currentPage.next)})}},{key:"loadPrev",value:function(){var e=this,t=Object(f.a)({},this.state);this.setState(Object(f.a)({},t,{nextPage:t.currentPage,currentPage:t.prevPage,prevPage:null}),function(){return e.fetchPrevious(e.state.currentPage.previous)})}},{key:"sort",value:function(e){this.setState(Object(f.a)({},this.state,{sort:e}))}},{key:"toggleDetails",value:function(e){var t,a=this;null!==e?(t=e,setTimeout(function(){window.scrollTo(0,a.myRef.current.offsetTop)},2e3)):t=this.state.detailed,this.setState(Object(f.a)({},this.state,{details:!this.state.details,detailed:t}),function(){a.getFilms(e),a.getPeople(e)})}},{key:"getFilms",value:function(e){var t=this;if(null===e)return-1;var a=this.state.currentPage.results[e].films.map(function(e){return g(e)});Promise.all(a).then(function(a){var n=a.map(function(e){return e.data.title}),l=Object(f.a)({},t.state);l.currentPage.results[e].movies=n,t.setState(l)})}},{key:"getPeople",value:function(e){var t=this;if(null===e)return-1;var a=this.state.currentPage.results[e].residents.map(function(e){return g(e)});Promise.all(a).then(function(a){var n=a.map(function(e){return e.data.name}),l=Object(f.a)({},t.state);l.currentPage.results[e].citizens=n,t.setState(l)})}},{key:"render",value:function(){var e=this,t=this.state.currentPage?this.state.currentPage.results:null,a=this.state.currentPage&&null!==this.state.detailed?this.state.currentPage.results[this.state.detailed]:null,n=l.a.createElement("div",null," ",this.state.nextPage?l.a.createElement("button",{className:"Planets-grid-next",type:"button",onClick:function(){return e.loadNext()}}):null),r=l.a.createElement("div",null," ",this.state.prevPage?l.a.createElement("button",{className:"Planets-grid-prev",type:"button",onClick:function(){return e.loadPrev()}}):null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{ref:this.myRef,className:"Planets-content-wrapper ".concat(this.state.details?"details":"")},l.a.createElement(i.b,{to:"/"},l.a.createElement("div",{className:"Planets-grid-prev Back-home"})),l.a.createElement("div",null),t?l.a.createElement("div",{className:"Planets-grid-wrapper"},l.a.createElement("div",{className:"Planets-grid"},l.a.createElement(w,{sort:this.state.sort,onSort:function(t){return e.sort(t)}}),l.a.createElement(y,{planets:t,sort:this.state.sort,clicked:function(t){return e.toggleDetails(t)}})),l.a.createElement("nav",{className:"Planets-grid-navbar"},r,n)):l.a.createElement("div",{className:"Planets-spinner"}," ",l.a.createElement(O,null)," "),l.a.createElement(S,{planet:a,sort:this.state.sort,clicked:function(t){return e.toggleDetails(t)}})))}}]),t}(n.Component)),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={currentPage:null,details:!1,detailed:null,sort:{key:!1,dir:E.NONE}},a.myRef=l.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;g("planets/").then(function(t){var a=Object(f.a)({},e.state);a.currentPage={results:t.data.results},e.setState(a,function(){t.data.next&&e.fetchNext(t.data.next)})})}},{key:"fetchNext",value:function(e){var t=this;g(e).then(function(e){var a=Object(f.a)({},t.state);a.currentPage.results=a.currentPage.results.concat(e.data.results),t.setState(a,function(){e.data.next&&t.fetchNext(e.data.next)})})}},{key:"sort",value:function(e){this.setState(Object(f.a)({},this.state,{sort:e}))}},{key:"toggleDetails",value:function(e){var t,a=this;null!==e?(t=e,setTimeout(function(){window.scrollTo(0,a.myRef.current.offsetTop)},2e3)):t=this.state.detailed,this.setState(Object(f.a)({},this.state,{details:!this.state.details,detailed:t}),function(){a.getFilms(e),a.getPeople(e)})}},{key:"getFilms",value:function(e){var t=this;if(null===e)return-1;var a=this.state.currentPage.results[e].films.map(function(e){return g(e)});Promise.all(a).then(function(a){var n=a.map(function(e){return e.data.title}),l=Object(f.a)({},t.state);l.currentPage.results[e].movies=n,t.setState(l)})}},{key:"getPeople",value:function(e){var t=this;if(null===e)return-1;var a=this.state.currentPage.results[e].residents.map(function(e){return g(e)});Promise.all(a).then(function(a){var n=a.map(function(e){return e.data.name}),l=Object(f.a)({},t.state);l.currentPage.results[e].citizens=n,t.setState(l)})}},{key:"render",value:function(){var e=this,t=this.state.currentPage?this.state.currentPage.results:null,a=this.state.currentPage&&null!==this.state.detailed?this.state.currentPage.results[this.state.detailed]:null,n=l.a.createElement("div",null," ",this.state.nextPage?l.a.createElement("button",{className:"Planets-grid-next",type:"button",onClick:function(){return e.loadNext()}}):null),r=l.a.createElement("div",null," ",this.state.prevPage?l.a.createElement("button",{className:"Planets-grid-prev",type:"button",onClick:function(){return e.loadPrev()}}):null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{ref:this.myRef,className:"Planets-content-wrapper ".concat(this.state.details?"details":"")},l.a.createElement(i.b,{to:"/"},l.a.createElement("div",{className:"Planets-grid-prev Back-home"})),l.a.createElement("div",null),t?l.a.createElement("div",{className:"Planets-grid-wrapper"},l.a.createElement("div",{className:"Planets-grid"},l.a.createElement(w,{sort:this.state.sort,onSort:function(t){return e.sort(t)}}),l.a.createElement(y,{planets:t,sort:this.state.sort,clicked:function(t){return e.toggleDetails(t)}})),l.a.createElement("nav",{className:"Planets-grid-navbar"},r,n)):l.a.createElement("div",{className:"Planets-spinner"}," ",l.a.createElement(O,null)," "),l.a.createElement(S,{planet:a,sort:this.state.sort,clicked:function(t){return e.toggleDetails(t)}})))}}]),t}(n.Component),F=(a(70),function(e){return l.a.createElement("div",{className:"Home-wrapper"},l.a.createElement("div",{className:"Home"},l.a.createElement("div",{className:"Home-link"},l.a.createElement("div",{className:"Link-left"},"$"),l.a.createElement(i.b,{to:"/paginated"},"Paginated"),l.a.createElement("div",{className:"Link-right"},"$")),l.a.createElement("div",{className:"Home-link"},l.a.createElement("div",{className:"Link-left"},"#"),l.a.createElement(i.b,{to:"/unpaginated"},"Unpaginated"),l.a.createElement("div",{className:"Link-right"},"#"))))}),R=(a(71),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(v.c,null,l.a.createElement(v.a,{path:"/",exact:!0,component:F}),l.a.createElement(v.a,{path:"/unpaginated",component:C}),l.a.createElement(v.a,{path:"/paginated",component:D})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(i.a,null,l.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.d8a35430.chunk.js.map